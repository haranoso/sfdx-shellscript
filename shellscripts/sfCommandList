#!/bin/bash
set -eu

echo "すべてプロジェクトのカレントディレクトリで実行される前提です。force-app等があるディレクトリ階層。"
echo "-----------------------------------------------------------------------------------------"
echo " ■ユーティリティ系"
echo "  getCoverage                 :   カバレッジ率を取得する。"
echo "  getAPINames {sObjectName}   :   カスタムオブジェクトのAPI名を指定すると、項目のAPI名を表示する。"
echo "  sfEI                        :   ログインしている環境の情報を表示する。"
echo "  retrieve                    :   retrieveを実行する。"
echo "  retrieveSlack               :   retrieveを実行し、Slackへ通知する。※slack.confファイルが必要です。"
echo "  sfexec {apexfile path}      :   apexコードを実行する。ローカルでapexコードを記述して指定。開発者コンソールのAnonymous Execute Windowの置き換え"
echo "  soql {soql文}               :   {SOQL文}に記載されたSOQLを実行します。このコマンドはSELECT　ONLY"
echo "  deploy {minute} {path} {filename} {minute}  ：  指定したn分以内に更新されたファイル、{path}：指定したパス配下、{filename}：ファイルをデプロイする。(例：*.clsなど)"
echo ""
echo " ■ログ系"
echo "  llf     :   一番最後に保存されているログファイルを表示する。"
echo "  sft     :   log:tailコマンドを実行する。※終了するか異常が発生するまで表示し続ける"
echo "  sftd    :   log:tailコマンドかつDEBUG行を表示する。※終了するか異常が発生するまで表示し続ける"
echo "  sftf    :   log:tailコマンドかつFATAL行を表示する。※終了する異常が発生するまで表示し続ける"
echo ""
echo " ■テスト系"
echo "  th {className},{className},・・・       : apex Testを　human形式表示かつCoverageなしで実行する。"
echo "  thc {className},{className},・・・      : apex Testを　human形式表示かつCoverageありで実行する。"
echo "  tt {className},{className},・・・       : apex Testを　Tap形式表示かつCoverageなしで実行する。"
echo "  ttslack {className},{className},・・・  : ttの実行結果をSlackに通知する。"
echo "  ttc {className},{className},・・・      : apex Testを　Tap形式表示かつCoverageありで実行する。"
echo "  ttcRecursion {filename}                 : ttcを指定したクラス名(例：Test*)で検索して再帰的に実行する。"
echo "  tthRecursion {filename}                 : tthを指定したクラス名(例：Test*)で検索して再帰的に実行する。"
echo ""
echo " ■Slackへの投稿について"
echo "  Slackに投稿するには、slack.confが必要です。slack.confについては、コマンドを実行するフォルダに配置してください。"
echo "  以下\"---\"で囲まれた部分がslack.confのフォーマット"
echo "  ------------------------"
echo "  # WebHookのURL"
echo "  URL='https://hooks.slack.com/services/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'"
echo "  ------------------------"
echo ""
